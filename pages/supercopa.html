<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Marcador LLF</title>
  <style>
    @font-face {
      font-family: 'LaLiga';
      src: url('/fonts/LALIGAText-Bold.woff2') format('woff2');
      font-weight: normal;
      font-style: normal;
      font-display: swap;
    }

    body {
      font-family: 'LaLiga', Arial, sans-serif;
      text-align: center;
      background-color: #008F39;
      color: white;
    }

    .marcador {
      position: relative;
      width: 700px;
      height: 350px;
      margin: 40px auto;
      background-image: url("/marcadores/supercopa.png");
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
    }

    .equipo-abv {
      position: absolute;
      top: 128px;
      width: 160px;
      color: red;
      font-size: 45px;
      font-weight: bold;
      text-transform: uppercase;
    }

    #equipo1-abv {
      left: 42px;
      text-align: center;
    }

    #equipo2-abv {
      right: 164px;
      text-align: left;
    }

    .resultado {
      position: absolute;
      top: 108px;
      left: 39%;
      transform: translateX(-50%);
      width: 160px;
      height: 90px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 45px;
      font-weight: bold;
      color: white;
    }

    .barra-equipo {
      position: absolute;
      top: 125px;
      width: 21px;
      height: 59px;
      background-color: white;
    }

    #barra1 {
      left: 35px;
    }

    #barra2 {
      right: 190px;
    }

    .cronometro {
      position: absolute;
      bottom: 170px;
      left: 84%;
      transform: translateX(-50%);
      color: red;
      font-size: 38px;
      font-weight: bold;
    }

    .temporizador-extra {
      position: absolute;
      bottom: 175px;
      left: 92%;
      transform: translateX(-50%);
      color: red;
      font-size: 28px;
      display: none;
    }

    .equipos {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin: 10px auto;
      width: 80%;
    }

    .boton-equipo {
      border: 3px solid white;
      border-radius: 8px;
      background-color: #004d1a;
      cursor: pointer;
      padding: 5px;
      transition: 0.3s;
    }

    .boton-equipo:hover {
      background-color: #006622;
      transform: scale(1.05);
    }

    .boton-equipo img {
      width: 60px;
      height: 60px;
      display: block;
      margin: auto;
    }

    button {
      margin: 5px;
      padding: 10px 15px;
      font-size: 16px;
      border: 2px solid white;
      border-radius: 6px;
      background: #004d1a;
      color: white;
      cursor: pointer;
      transition: 0.2s;
    }

    button:hover {
      background-color: #006622;
    }
  </style>
</head>

<body>

  <div class="marcador">
    <div id="barra1" class="barra-equipo"></div>
    <div id="barra2" class="barra-equipo"></div>

    <div id="equipo1-abv" class="equipo-abv">EQ1</div>
    <div id="equipo2-abv" class="equipo-abv">EQ2</div>

    <div class="resultado" id="resultado">0 ‎ ‎ ‎ ‎ ‎ ‎ 0</div>

    <div class="cronometro" id="cronometro">00:00</div>
    <div class="temporizador-extra" id="temporizador-extra">+0</div>
  </div>

  <h2>Equipo 1</h2>
  <div class="equipos" id="botonesEq1"></div>

  <h2>Equipo 2</h2>
  <div class="equipos" id="botonesEq2"></div>

  <br>
  <button onclick="sumar(1)">+1 EQ1</button>
  <button onclick="restar(1)">-1 EQ1</button>
  <button onclick="sumar(2)">+1 EQ2</button>
  <button onclick="restar(2)">-1 EQ2</button>
  <br>
  <button onclick="iniciar()">Iniciar</button>
  <button onclick="detener()">Detener</button>
  <button onclick="reiniciar()">Reiniciar</button>
  <br>
  <h2>Tiempo añadido</h2>
  <button onclick="anadirTiempo(1)">+1</button>
  <button onclick="anadirTiempo(2)">+2</button>
  <button onclick="anadirTiempo(3)">+3</button>
  <button onclick="anadirTiempo(4)">+4</button>
  <button onclick="anadirTiempo(5)">+5</button>
  <br>
  <a href="/index.html">
    <button>Volver</button>
  </a>

  <script>
    const equipos = [
      { abv: "ATM", color: "#e01f1a", logo: "/escudos/atlmadrid.png" },
      { abv: "MCF", color: "#3498db", logo: "/escudos/malaga.png" },
      { abv: "BET", color: "#03da18", logo: "/escudos/betis.png" },
      { abv: "VIL", color: "#f1c40f", logo: "/escudos/villarreal.png" },
      { abv: "ATH", color: "#ff4040", logo: "/escudos/athletic.png" },
      { abv: "RSO", color: "#005ab9", logo: "/escudos/realsociedad.png" },
      { abv: "FCB", color: "#8f1515", logo: "/escudos/barcelona.png" },
      { abv: "RMA", color: "#ffffff", logo: "/escudos/madrid.png" },
    ];

    let marcador1 = 0, marcador2 = 0;
    let tiempo = 0, intervalo;
    let tiempoExtra = 0;

    const res = document.getElementById("resultado");
    const cron = document.getElementById("cronometro");

    function actualizarMarcador() {
      res.textContent = `${marcador1} ‎ ‎ ‎ ‎ ‎ ‎ ${marcador2}`;
    }

    function sumar(equipo) {
      if (equipo === 1) marcador1++;
      else marcador2++;
      actualizarMarcador();
    }

    function restar(equipo) {
      if (equipo === 1 && marcador1 > 0) marcador1--;
      else if (equipo === 2 && marcador2 > 0) marcador2--;
      actualizarMarcador();
    }

    function actualizarTiempo() {
      let min = Math.floor(tiempo / 60);
      let seg = tiempo % 60;
      if (seg < 10) seg = "0" + seg;
      if (min < 10) min = "0" + min;
      cron.textContent = `${min}:${seg}`;
    }

    function actualizarTemporizadorExtra() {
      document.getElementById("temporizador-extra").textContent = "+" + tiempoExtra;
    }

    function iniciar() {
      if (intervalo) clearInterval(intervalo);
      intervalo = setInterval(() => {
        tiempo++;
        actualizarTiempo();
      }, 1000);
    }

    function detener() {
      clearInterval(intervalo);
    }

    function reiniciar() {
      clearInterval(intervalo);
      tiempo = 0;
      tiempoExtra = 0;
      actualizarTiempo();
      actualizarTemporizadorExtra();
      document.getElementById("temporizador-extra").style.display = "none";
      document.querySelector(".cronometro").style.left = "84%";
    }

    function anadirTiempo(min) {
      tiempoExtra += min;
      actualizarTemporizadorExtra();
      document.getElementById("temporizador-extra").style.display = "block";
      document.querySelector(".cronometro").style.left = "82%";
    }

    function crearBotonesEquipos(containerId, equipoNum) {
      const cont = document.getElementById(containerId);
      equipos.forEach(eq => {
        const btn = document.createElement("button");
        btn.className = "boton-equipo";
        btn.innerHTML = `<img src="${eq.logo}" alt="${eq.abv}">`;
        btn.onclick = () => {
          document.getElementById(`equipo${equipoNum}-abv`).textContent = eq.abv;
          document.getElementById(`barra${equipoNum}`).style.backgroundColor = eq.color;
        };
        cont.appendChild(btn);
      });
    }

    crearBotonesEquipos("botonesEq1", 1);
    crearBotonesEquipos("botonesEq2", 2);

    actualizarMarcador();
    actualizarTiempo();
  </script>
</body>
</html>
